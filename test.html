<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Page - Pay2Days Extension</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        .product-item {
            background: white;
            margin: 10px;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            display: inline-block;
            width: 250px;
            vertical-align: top;
        }
        .price-container {
            margin: 10px 0;
        }
        .truncate {
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }
        .flex {
            display: flex;
        }
        .items-baseline {
            align-items: baseline;
        }
        .font-medium {
            font-weight: 500;
        }
        .mr-px {
            margin-right: 1px;
        }
        .text-xs\/sp14 {
            font-size: 12px;
            line-height: 14px;
        }
        .text-base\/5 {
            font-size: 16px;
            line-height: 1.25;
        }
        .text-shopee-primary {
            color: #ee4d2d;
        }
        h1 {
            text-align: center;
            color: #333;
        }
        .instructions {
            background: #e3f2fd;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Test Page untuk Pay2Days Extension</h1>
        
        <div class="instructions">
            <h3>Instruksi Testing:</h3>
            <ol>
                <li>Install extension Pay2Days di Chrome</li>
                <li>Buka halaman ini</li>
                <li>Klik icon extension dan pastikan status ON</li>
                <li>Harga-harga di bawah ini harusnya ditambahi string "test"</li>
                <li>Gunakan tombol "Debug DOM" untuk melihat analisis</li>
            </ol>
        </div>

        <div class="product-item">
            <h4>Samsung Galaxy S24 FE</h4>
            <div class="price-container">
                <div class="flex-shrink min-w-0 mr-1 truncate text-shopee-primary flex items-center font-medium">
                    <div class="truncate flex items-baseline">
                        <span class="font-medium mr-px text-xs/sp14">Rp</span>
                        <span class="truncate text-base/5 font-medium">8.999.000</span>
                        <span class="font-medium mr-px text-xs/sp14"></span>
                    </div>
                </div>
            </div>
        </div>

        <div class="product-item">
            <h4>Samsung Galaxy S24 Ultra</h4>
            <div class="price-container">
                <div class="flex-shrink min-w-0 mr-1 truncate text-shopee-primary flex items-center font-medium">
                    <div class="truncate flex items-baseline">
                        <span class="font-medium mr-px text-xs/sp14">Rp</span>
                        <span class="truncate text-base/5 font-medium">15.999.000</span>
                        <span class="font-medium mr-px text-xs/sp14"></span>
                    </div>
                </div>
            </div>
        </div>

        <div class="product-item">
            <h4>iPhone 15 Pro</h4>
            <div class="price-container">
                <div class="flex-shrink min-w-0 mr-1 truncate text-shopee-primary flex items-center font-medium">
                    <div class="truncate flex items-baseline">
                        <span class="font-medium mr-px text-xs/sp14">Rp</span>
                        <span class="truncate text-base/5 font-medium">18.999.000</span>
                        <span class="font-medium mr-px text-xs/sp14"></span>
                    </div>
                </div>
            </div>
        </div>

        <div class="product-item">
            <h4>MacBook Air M2</h4>
            <div class="price-container">
                <div class="flex-shrink min-w-0 mr-1 truncate text-shopee-primary flex items-center font-medium">
                    <div class="truncate flex items-baseline">
                        <span class="font-medium mr-px text-xs/sp14">Rp</span>
                        <span class="truncate text-base/5 font-medium">16.999.000</span>
                        <span class="font-medium mr-px text-xs/sp14"></span>
                    </div>
                </div>
            </div>
        </div>

        <div style="margin-top: 30px; padding: 20px; background: #fff3cd; border-radius: 8px;">
            <h3>Expected Result:</h3>
            <p>Jika extension berfungsi dengan benar, semua harga di atas akan menampilkan " test" di akhir angka.</p>
            <p>Contoh: "8.999.000" menjadi "8.999.000 test"</p>
        </div>

        <div style="margin-top: 20px; padding: 20px; background: #f8d7da; border-radius: 8px;">
            <h3>Debugging:</h3>
            <p>Jika extension tidak berfungsi:</p>
            <ul>
                <li>Buka Developer Tools (F12)</li>
                <li>Check Console untuk error messages</li>
                <li>Pastikan extension aktif di chrome://extensions/</li>
                <li>Klik "Debug DOM" di popup extension</li>
            </ul>
        </div>
    </div>

    <script>
        // Script untuk simulasi dynamic content loading (testing MutationObserver)
        setTimeout(() => {
            const newProduct = document.createElement('div');
            newProduct.className = 'product-item';
            newProduct.innerHTML = `
                <h4>Dynamic Product (Loaded after 3s)</h4>
                <div class="price-container">
                    <div class="flex-shrink min-w-0 mr-1 truncate text-shopee-primary flex items-center font-medium">
                        <div class="truncate flex items-baseline">
                            <span class="font-medium mr-px text-xs/sp14">Rp</span>
                            <span class="truncate text-base/5 font-medium">12.500.000</span>
                            <span class="font-medium mr-px text-xs/sp14"></span>
                        </div>
                    </div>
                </div>
            `;
            document.querySelector('.container').appendChild(newProduct);
            console.log('Dynamic product added - testing MutationObserver');
        }, 3000);
    </script>
</body>
</html>